---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "propelauth_roles_and_permissions Resource - propelauth"
subcategory: ""
description: |-
  Roles and Permissions resource. This is for configuring the basic roles and permissionsrmation in PropelAuth.
---

# propelauth_roles_and_permissions (Resource)

Roles and Permissions resource. This is for configuring the basic roles and permissionsrmation in PropelAuth.

## Example Usage

```terraform
# Configure what organization roles are available to your users and the permissions associated with them.
resource "propelauth_roles_and_permissions" "example" {
  permissions = [
    {
      name         = "doc::read"
      display_name = "Can read documents." # optional
      description  = "A description here." # optional
    },
    {
      name = "doc::write"
    },
    {
      name = "ticket::read"
    },
    {
      name = "ticket::write"
    },
    {
      name = "ai::deploy"
    }
  ]
  roles = {
    "Owner" = {
      can_view_other_members  = true
      can_invite              = true
      can_change_roles        = true
      can_manage_api_keys     = true
      can_remove_users        = true
      can_setup_saml          = true
      can_delete_org          = true
      can_edit_org_access     = true
      can_update_org_metadata = true
      permissions = [
        "doc::read",
        "doc::write",
        "ticket::read",
        "ticket::write"
      ]
    }
    "Admin" = {
      can_view_other_members  = true
      can_invite              = true
      can_change_roles        = true
      can_manage_api_keys     = false
      can_remove_users        = true
      can_setup_saml          = false
      can_delete_org          = false
      can_edit_org_access     = false
      can_update_org_metadata = false
      permissions = [
        "doc::read",
        "doc::write",
        "ticket::read"
      ]
    }
    "Member" = {
      # the defaults for all PropelAuth permissions
      permissions = [
        "doc::read",
        "ticket::read"
      ]
    }
    "Support" = {
      is_internal             = true
      can_view_other_members  = true
      can_invite              = false
      can_change_roles        = false
      can_manage_api_keys     = false
      can_remove_users        = false
      can_setup_saml          = false
      can_delete_org          = false
      can_edit_org_access     = false
      can_update_org_metadata = false
      permissions = [
        "doc::read",
        "ticket::read",
        "ai::deploy"
      ]
    }
  }
  role_hierarchy = [
    "Owner",
    "Admin",
    "Support",
    "Member"
  ]
  default_role       = "Member"
  default_owner_role = "Owner"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `default_owner_role` (String) The `default_owner_role` is the role automatically assigned to the user who creates the organization.
- `default_role` (String) The `default_role` is the role assigned to a user if they join an organization and no other role is assigned to them. It is also the fallback role in the instance their role is deleted from the configuration without a replacement.
- `roles` (Attributes Map) A map of roles that can be assigned to members of an organization. This provides the the permissions in the default mapping. For overrides (ie custom mappings) that can be applied on top of this, see the `propelauth_role_permissions_override` resource. in the default mapping. For overrides (ie custom mappings) that can be applied on top of this, see the `propelauth_role_permissions_override` resource. (see [below for nested schema](#nestedatt--roles))

### Optional

- `permissions` (Attributes List) A list of permissions that are specific to your application and can be assigned to individual roles. (see [below for nested schema](#nestedatt--permissions))
- `role_hierarchy` (List of String) A list of roles in order of hierarchy. The first role in the list is the highest role and the last role is the lowest role. This is only relevant if `multiple_roles_per_user` is false. If `multiple_roles_per_user` is true, the roles that a role can manage is defined by the `roles_can_manage` field on each individual role definition.

### Read-Only

- `multiple_roles_per_user` (Boolean) If true, than each member of an organization can have multiple roles and their is no hierarchy between roles. Instead, the relationship between roles is defined by the `roles_can_manage` field on each individual role definition. A single-role project can be migrated to multi-role, but not the other way around. Because of this, this can only be set in the PropelAuth dashboard.

<a id="nestedatt--roles"></a>
### Nested Schema for `roles`

Optional:

- `can_change_roles` (Boolean) If true, users with this role in the org can change the roles of other users in the organization. The default is false.
- `can_delete_org` (Boolean) If true, users with this role in the org can delete the organization. The default is false.
- `can_edit_org_access` (Boolean) If true, users with this role in the org can edit the organization's access settings. These settings incluede what email domains are included and whether 2FA is enforced for the org. The default is false.
- `can_invite` (Boolean) If true, users with this role in the org can invite other users to the organization. The default is false.
- `can_manage_api_keys` (Boolean) If true, users with this role in the org can manage API keys for the organization. The default is false.
- `can_remove_users` (Boolean) If true, users with this role in the org can remove other users from the organization. The default is false.
- `can_setup_saml` (Boolean) If true, users with this role in the org can setup enterprise SSO for the organization. The default is false.
- `can_update_org_metadata` (Boolean) If true, users with this role in the org can update the organization's metadata. This includes changing the name of the organization. The default is false.
- `can_view_other_members` (Boolean) If true, users with this role in the org can view other members of the organization. The default is true.
- `description` (String) A human-readable description of the role.
- `disabled` (Boolean) If true, this role is disabled and cannot be assigned to users. It is only useful if you intend to use the role in non-default role mappings exclusively. The default is false.
- `is_internal` (Boolean) If true, this role is an internal role and cannot be assigned to or viewed by end users. The default is false.
- `permissions` (List of String) A list of permissions specific to your application that are assigned to this role.
- `replacing_role` (String) The name of a role that no longer exists but this role is replacing. This should only be used if you are attempting to change the name of an existing role and want to ensure that users who had the old role now have this role. The `replacing_role` should not exist in the `roles` map.
- `roles_can_manage` (List of String) A list of roles that this role can manage. This is only relevant if `multiple_roles_per_user` is true. If `multiple_roles_per_user` is false, the other roles that a role can manage is defined by the order in `role_hierarchy` where the first role is able to manage every other role including itself.


<a id="nestedatt--permissions"></a>
### Nested Schema for `permissions`

Required:

- `name` (String) The name of the permission. This should be a unique identifier for the permission.

Optional:

- `description` (String) A description of the permission. This is a human readable description of what the permission allows.
- `display_name` (String) The display name of the permission. This is the human readable name of the permission. If not provided, the `name` will be used.
